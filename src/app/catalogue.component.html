<div class="catalogue-container">
  
  <h1 class="catalogue-title">
    <i class='bx bx-collection'></i>
    <span>Catalogue des Ressources</span>
  </h1>

  <div *ngIf="loading" class="catalogue-loader">
    <i class='bx bx-loader-alt bx-spin'></i>
    <p>Chargement des ressources disponibles...</p>
  </div>

  <div *ngIf="error" class="catalogue-error">
    {{ error }}
  </div>

  <div *ngIf="resources$ | async as resources" class="catalogue-grid">
    
    <div *ngIf="resources.length === 0 && !loading" class="no-resource">
      <i class='bx bx-sad'></i>
      <p>Aucune ressource n'est disponible pour le moment.</p>
    </div>

    <div *ngFor="let resource of resources" class="resource-card">
      
      <div class="card-header">
        <h2>{{ resource.name }}</h2>
        <i 
          [class]="'bx ' + getResourceIcon(resource.type) + ' resource-icon'"
          [ngClass]="{ 'room': resource.type === 'ROOM' }"
        ></i>
      </div>

      <p>{{ resource.description || 'Aucune description fournie.' }}</p>

      <div class="resource-meta">
        <span>
          Type : <strong>{{ resource.type }}</strong>
        </span>
        <span>
          ID : <strong>{{ resource.id.slice(0, 8) }}...</strong>
        </span>
      </div>
      
      <button 
        (click)="onReserve(resource.id)" 
        class="reserve-btn"
      >
        <i class='bx bx-calendar-plus'></i>
        <span>RÃ©server</span>
      </button>
    </div>

  </div>
</div>